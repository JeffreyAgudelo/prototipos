<!DOCTYPE html>
<html lang="es">

<head>
     <title>proto 1</title>

     <meta charset="UTF-8">
     <meta http-equiv="X-UA-Compatible" content="IE=edge">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">

     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

     <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.3.0/dist/sweetalert2.all.min.js"></script>

     <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js"></script>
     <script src="https://unpkg.com/ml5@latest/dist/ml5.min.js"></script>

     <meta property="og:site_name" content="proto 1">
     <meta property="og:title" content="proto 1">
     <meta property="og:description" content="proto 1">
     <meta property="og:image" content="https://i.ibb.co/3vg4KNb/softyo-001.png">
     <link rel="icon" type="image/png" href="https://i.ibb.co/3vg4KNb/softyo-001.png">
</head>

<body>
     <style>
          * {
               transition: all 0.25s;
          }

          body {
               margin: 0;
               padding: 0;
          }

          .container > div {
               margin: 10px;
               text-align: center;
          }
          .container {
               display: flex;
               justify-content: center;
               align-items: center;
               flex-wrap: wrap;
          }
     </style>



     <div class="container">
          <div id="cat">
               <span id="lbl-cat"></span>
               <br>
          </div>

          <div id="cat2">
               <span id="lbl-cat2"></span>
               <br>
          </div>

          <div id="dog">
               <span id="lbl-dog"></span>
               <br>
          </div>

          <div id="dog2">
               <span id="lbl-dog2"></span>
               <br>
          </div>
          
          <div id="horse">
               <span id="lbl-horse"></span>
               <br>
          </div>

          <div id="horse2">
               <span id="lbl-horse2"></span>
               <br>
          </div>
     </div>

     <script>

          let mobileNet

          function preload() {
               mobileNet = ml5.imageClassifier("MobileNet", () => {
                    console.log("model ready!!")
               });
          }

          function setup() {
               noCanvas()
               new p5(sketch => {
                    sketch.preload = function () {
                         cat = sketch.loadImage("https://i.ibb.co/YcB7B2L/cat.jpg")
                    }

                    sketch.setup = function () {
                         console.clear()
                         sketch.createCanvas(cat.width / 3, cat.height / 3)
                         mobileNet.predict(cat, (error, results) => {
                              if (error) {
                                   console.error(error);
                              } else {
                                   console.log(results)
                                   document.getElementById("lbl-cat").innerHTML = results[0].label + " = " + (results[0].confidence * 100).toFixed(2) + "%"
                              }
                         })
                         sketch.image(cat, 0, 0, cat.width / 3, cat.height / 3)
                    }
               }, "cat")

               new p5(sketch => {
                    sketch.preload = function () {
                         cat2 = sketch.loadImage("https://i.ibb.co/mcQFLVf/cat2.jpg")
                    }

                    sketch.setup = function () {
                         console.clear()
                         sketch.createCanvas(cat2.width / 3, cat2.height / 3)
                         mobileNet.predict(cat2, (error, results) => {
                              if (error) {
                                   console.error(error);
                              } else {
                                   document.getElementById("lbl-cat2").innerHTML = results[0].label + " = " + (results[0].confidence * 100).toFixed(2) + "%"
                              }
                         })
                         sketch.image(cat2, 0, 0, cat2.width / 3, cat2.height / 3)
                    }
               }, "cat2")

               new p5(sketch => {
                    sketch.preload = function () {
                         dog = sketch.loadImage("https://i.ibb.co/k2TQ5pz/dog.jpg")
                    }

                    sketch.setup = function () {
                         console.clear()
                         sketch.createCanvas(dog.width / 3, dog.height / 3)
                         mobileNet.predict(dog, (error, results) => {
                              if (error) {
                                   console.error(error);
                              } else {
                                   console.log(results)
                                   document.getElementById("lbl-dog").innerHTML = results[0].label + " = " + (results[0].confidence * 100).toFixed(2) + "%"
                              }
                         })
                         sketch.image(dog, 0, 0, dog.width / 3, dog.height / 3)
                    }
               }, "dog")

               new p5(sketch => {
                    sketch.preload = function () {
                         dog2 = sketch.loadImage("https://i.ibb.co/CHZyC08/dog2.webp")
                    }

                    sketch.setup = function () {
                         console.clear()
                         sketch.createCanvas(dog2.width /6, dog2.height / 6)
                         mobileNet.predict(dog2, (error, results) => {
                              if (error) {
                                   console.error(error);
                              } else {
                                   document.getElementById("lbl-dog2").innerHTML = results[0].label + " = " + (results[0].confidence * 100).toFixed(2) + "%"
                              }
                         })
                         sketch.image(dog2, 0, 0, dog2.width / 6, dog2.height / 6)
                    }
               }, "dog2")

               new p5(sketch => {
                    sketch.preload = function () {
                         horse = sketch.loadImage("https://i.ibb.co/xhbmkJd/polaroid.jpg")
                    }

                    sketch.setup = function () {
                         console.clear()
                         sketch.createCanvas(horse.width, horse.height)
                         mobileNet.predict(horse, (error, results) => {
                              if (error) {
                                   console.error(error);
                              } else {
                                   console.log(results)
                                   document.getElementById("lbl-horse").innerHTML = results[0].label + " = " + (results[0].confidence * 100).toFixed(2) + "%"
                              }
                         })
                         sketch.image(horse, 0, 0, horse.width, horse.height)
                    }
               }, "horse")

               new p5(sketch => {
                    sketch.preload = function () {
                         horse2 = sketch.loadImage("https://i.ibb.co/kQ8r00W/pool.jpg")
                    }

                    sketch.setup = function () {
                         console.clear()
                         sketch.createCanvas(horse2.width /6, horse2.height / 6)
                         mobileNet.predict(horse2, (error, results) => {
                              if (error) {
                                   console.error(error);
                              } else {
                                   document.getElementById("lbl-horse2").innerHTML = results[0].label + " = " + (results[0].confidence * 100).toFixed(2) + "%"
                              }
                         })
                         sketch.image(horse2, 0, 0, horse2.width / 6, horse2.height / 6)
                    }
               }, "horse2")
          }
     </script>


</body>

</html>